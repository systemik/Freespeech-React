{"ast":null,"code":"'use strict'; // Heavily inspired by node's `internal/errors` module\n\nconst kCode = Symbol('code');\nconst messages = new Map();\n/**\n * Extend an error of some sort into a DiscordjsError.\n * @param {Error} Base Base error to extend\n * @returns {DiscordjsError}\n */\n\nfunction makeDiscordjsError(Base) {\n  return class DiscordjsError extends Base {\n    constructor(key) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      super(message(key, args));\n      this[kCode] = key;\n      if (Error.captureStackTrace) Error.captureStackTrace(this, DiscordjsError);\n    }\n\n    get name() {\n      return `${super.name} [${this[kCode]}]`;\n    }\n\n    get code() {\n      return this[kCode];\n    }\n\n  };\n}\n/**\n * Format the message for an error.\n * @param {string} key Error key\n * @param {Array<*>} args Arguments to pass for util format or as function args\n * @returns {string} Formatted string\n */\n\n\nfunction message(key, args) {\n  if (typeof key !== 'string') throw new Error('Error message key must be a string');\n  const msg = messages.get(key);\n  if (!msg) throw new Error(`An invalid error message key was used: ${key}.`);\n  if (typeof msg === 'function') return msg(...args);\n  if (args === undefined || args.length === 0) return msg;\n  args.unshift(msg);\n  return String(...args);\n}\n/**\n * Register an error code and message.\n * @param {string} sym Unique name for the error\n * @param {*} val Value of the error\n */\n\n\nfunction register(sym, val) {\n  messages.set(sym, typeof val === 'function' ? val : String(val));\n}\n\nmodule.exports = {\n  register,\n  Error: makeDiscordjsError(Error),\n  TypeError: makeDiscordjsError(TypeError),\n  RangeError: makeDiscordjsError(RangeError)\n};","map":{"version":3,"sources":["/Users/macbookpro/node_modules/discord.js/src/errors/DJSError.js"],"names":["kCode","Symbol","messages","Map","makeDiscordjsError","Base","DiscordjsError","constructor","key","args","message","Error","captureStackTrace","name","code","msg","get","undefined","length","unshift","String","register","sym","val","set","module","exports","TypeError","RangeError"],"mappings":"AAAA,a,CAEA;;AAEA,MAAMA,KAAK,GAAGC,MAAM,CAAC,MAAD,CAApB;AACA,MAAMC,QAAQ,GAAG,IAAIC,GAAJ,EAAjB;AAEA;AACA;AACA;AACA;AACA;;AACA,SAASC,kBAAT,CAA4BC,IAA5B,EAAkC;AAChC,SAAO,MAAMC,cAAN,SAA6BD,IAA7B,CAAkC;AACvCE,IAAAA,WAAW,CAACC,GAAD,EAAe;AAAA,wCAANC,IAAM;AAANA,QAAAA,IAAM;AAAA;;AACxB,YAAMC,OAAO,CAACF,GAAD,EAAMC,IAAN,CAAb;AACA,WAAKT,KAAL,IAAcQ,GAAd;AACA,UAAIG,KAAK,CAACC,iBAAV,EAA6BD,KAAK,CAACC,iBAAN,CAAwB,IAAxB,EAA8BN,cAA9B;AAC9B;;AAEO,QAAJO,IAAI,GAAG;AACT,aAAQ,GAAE,MAAMA,IAAK,KAAI,KAAKb,KAAL,CAAY,GAArC;AACD;;AAEO,QAAJc,IAAI,GAAG;AACT,aAAO,KAAKd,KAAL,CAAP;AACD;;AAbsC,GAAzC;AAeD;AAED;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASU,OAAT,CAAiBF,GAAjB,EAAsBC,IAAtB,EAA4B;AAC1B,MAAI,OAAOD,GAAP,KAAe,QAAnB,EAA6B,MAAM,IAAIG,KAAJ,CAAU,oCAAV,CAAN;AAC7B,QAAMI,GAAG,GAAGb,QAAQ,CAACc,GAAT,CAAaR,GAAb,CAAZ;AACA,MAAI,CAACO,GAAL,EAAU,MAAM,IAAIJ,KAAJ,CAAW,0CAAyCH,GAAI,GAAxD,CAAN;AACV,MAAI,OAAOO,GAAP,KAAe,UAAnB,EAA+B,OAAOA,GAAG,CAAC,GAAGN,IAAJ,CAAV;AAC/B,MAAIA,IAAI,KAAKQ,SAAT,IAAsBR,IAAI,CAACS,MAAL,KAAgB,CAA1C,EAA6C,OAAOH,GAAP;AAC7CN,EAAAA,IAAI,CAACU,OAAL,CAAaJ,GAAb;AACA,SAAOK,MAAM,CAAC,GAAGX,IAAJ,CAAb;AACD;AAED;AACA;AACA;AACA;AACA;;;AACA,SAASY,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1BrB,EAAAA,QAAQ,CAACsB,GAAT,CAAaF,GAAb,EAAkB,OAAOC,GAAP,KAAe,UAAf,GAA4BA,GAA5B,GAAkCH,MAAM,CAACG,GAAD,CAA1D;AACD;;AAEDE,MAAM,CAACC,OAAP,GAAiB;AACfL,EAAAA,QADe;AAEfV,EAAAA,KAAK,EAAEP,kBAAkB,CAACO,KAAD,CAFV;AAGfgB,EAAAA,SAAS,EAAEvB,kBAAkB,CAACuB,SAAD,CAHd;AAIfC,EAAAA,UAAU,EAAExB,kBAAkB,CAACwB,UAAD;AAJf,CAAjB","sourcesContent":["'use strict';\n\n// Heavily inspired by node's `internal/errors` module\n\nconst kCode = Symbol('code');\nconst messages = new Map();\n\n/**\n * Extend an error of some sort into a DiscordjsError.\n * @param {Error} Base Base error to extend\n * @returns {DiscordjsError}\n */\nfunction makeDiscordjsError(Base) {\n  return class DiscordjsError extends Base {\n    constructor(key, ...args) {\n      super(message(key, args));\n      this[kCode] = key;\n      if (Error.captureStackTrace) Error.captureStackTrace(this, DiscordjsError);\n    }\n\n    get name() {\n      return `${super.name} [${this[kCode]}]`;\n    }\n\n    get code() {\n      return this[kCode];\n    }\n  };\n}\n\n/**\n * Format the message for an error.\n * @param {string} key Error key\n * @param {Array<*>} args Arguments to pass for util format or as function args\n * @returns {string} Formatted string\n */\nfunction message(key, args) {\n  if (typeof key !== 'string') throw new Error('Error message key must be a string');\n  const msg = messages.get(key);\n  if (!msg) throw new Error(`An invalid error message key was used: ${key}.`);\n  if (typeof msg === 'function') return msg(...args);\n  if (args === undefined || args.length === 0) return msg;\n  args.unshift(msg);\n  return String(...args);\n}\n\n/**\n * Register an error code and message.\n * @param {string} sym Unique name for the error\n * @param {*} val Value of the error\n */\nfunction register(sym, val) {\n  messages.set(sym, typeof val === 'function' ? val : String(val));\n}\n\nmodule.exports = {\n  register,\n  Error: makeDiscordjsError(Error),\n  TypeError: makeDiscordjsError(TypeError),\n  RangeError: makeDiscordjsError(RangeError),\n};\n"]},"metadata":{},"sourceType":"script"}