{"ast":null,"code":"'use strict';\n\nconst noop = () => {}; // eslint-disable-line no-empty-function\n\n\nconst methods = ['get', 'post', 'delete', 'patch', 'put'];\nconst reflectors = ['toString', 'valueOf', 'inspect', 'constructor', Symbol.toPrimitive, Symbol.for('nodejs.util.inspect.custom')];\n\nfunction buildRoute(manager) {\n  const route = [''];\n  const handler = {\n    get(target, name) {\n      if (reflectors.includes(name)) return () => route.join('/');\n\n      if (methods.includes(name)) {\n        const routeBucket = [];\n\n        for (let i = 0; i < route.length; i++) {\n          // Reactions routes and sub-routes all share the same bucket\n          if (route[i - 1] === 'reactions') break; // Literal IDs should only be taken account if they are the Major ID (the Channel/Guild ID)\n\n          if (/\\d{16,19}/g.test(route[i]) && !/channels|guilds/.test(route[i - 1])) routeBucket.push(':id'); // All other parts of the route should be considered as part of the bucket identifier\n          else routeBucket.push(route[i]);\n        }\n\n        return options => manager.request(name, route.join('/'), Object.assign({\n          versioned: manager.versioned,\n          route: routeBucket.join('/')\n        }, options));\n      }\n\n      route.push(name);\n      return new Proxy(noop, handler);\n    },\n\n    apply(target, _, args) {\n      route.push(...args.filter(x => x != null)); // eslint-disable-line eqeqeq\n\n      return new Proxy(noop, handler);\n    }\n\n  };\n  return new Proxy(noop, handler);\n}\n\nmodule.exports = buildRoute;","map":{"version":3,"sources":["/Users/macbookpro/node_modules/discord.js/src/rest/APIRouter.js"],"names":["noop","methods","reflectors","Symbol","toPrimitive","for","buildRoute","manager","route","handler","get","target","name","includes","join","routeBucket","i","length","test","push","options","request","Object","assign","versioned","Proxy","apply","_","args","filter","x","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,IAAI,GAAG,MAAM,CAAE,CAArB,C,CAAuB;;;AACvB,MAAMC,OAAO,GAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,QAAhB,EAA0B,OAA1B,EAAmC,KAAnC,CAAhB;AACA,MAAMC,UAAU,GAAG,CACjB,UADiB,EAEjB,SAFiB,EAGjB,SAHiB,EAIjB,aAJiB,EAKjBC,MAAM,CAACC,WALU,EAMjBD,MAAM,CAACE,GAAP,CAAW,4BAAX,CANiB,CAAnB;;AASA,SAASC,UAAT,CAAoBC,OAApB,EAA6B;AAC3B,QAAMC,KAAK,GAAG,CAAC,EAAD,CAAd;AACA,QAAMC,OAAO,GAAG;AACdC,IAAAA,GAAG,CAACC,MAAD,EAASC,IAAT,EAAe;AAChB,UAAIV,UAAU,CAACW,QAAX,CAAoBD,IAApB,CAAJ,EAA+B,OAAO,MAAMJ,KAAK,CAACM,IAAN,CAAW,GAAX,CAAb;;AAC/B,UAAIb,OAAO,CAACY,QAAR,CAAiBD,IAAjB,CAAJ,EAA4B;AAC1B,cAAMG,WAAW,GAAG,EAApB;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,KAAK,CAACS,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC;AACA,cAAIR,KAAK,CAACQ,CAAC,GAAG,CAAL,CAAL,KAAiB,WAArB,EAAkC,MAFG,CAGrC;;AACA,cAAI,aAAaE,IAAb,CAAkBV,KAAK,CAACQ,CAAD,CAAvB,KAA+B,CAAC,kBAAkBE,IAAlB,CAAuBV,KAAK,CAACQ,CAAC,GAAG,CAAL,CAA5B,CAApC,EAA0ED,WAAW,CAACI,IAAZ,CAAiB,KAAjB,EAA1E,CACA;AADA,eAEKJ,WAAW,CAACI,IAAZ,CAAiBX,KAAK,CAACQ,CAAD,CAAtB;AACN;;AACD,eAAOI,OAAO,IACZb,OAAO,CAACc,OAAR,CACET,IADF,EAEEJ,KAAK,CAACM,IAAN,CAAW,GAAX,CAFF,EAGEQ,MAAM,CAACC,MAAP,CACE;AACEC,UAAAA,SAAS,EAAEjB,OAAO,CAACiB,SADrB;AAEEhB,UAAAA,KAAK,EAAEO,WAAW,CAACD,IAAZ,CAAiB,GAAjB;AAFT,SADF,EAKEM,OALF,CAHF,CADF;AAYD;;AACDZ,MAAAA,KAAK,CAACW,IAAN,CAAWP,IAAX;AACA,aAAO,IAAIa,KAAJ,CAAUzB,IAAV,EAAgBS,OAAhB,CAAP;AACD,KA5Ba;;AA6BdiB,IAAAA,KAAK,CAACf,MAAD,EAASgB,CAAT,EAAYC,IAAZ,EAAkB;AACrBpB,MAAAA,KAAK,CAACW,IAAN,CAAW,GAAGS,IAAI,CAACC,MAAL,CAAYC,CAAC,IAAIA,CAAC,IAAI,IAAtB,CAAd,EADqB,CACuB;;AAC5C,aAAO,IAAIL,KAAJ,CAAUzB,IAAV,EAAgBS,OAAhB,CAAP;AACD;;AAhCa,GAAhB;AAkCA,SAAO,IAAIgB,KAAJ,CAAUzB,IAAV,EAAgBS,OAAhB,CAAP;AACD;;AAEDsB,MAAM,CAACC,OAAP,GAAiB1B,UAAjB","sourcesContent":["'use strict';\n\nconst noop = () => {}; // eslint-disable-line no-empty-function\nconst methods = ['get', 'post', 'delete', 'patch', 'put'];\nconst reflectors = [\n  'toString',\n  'valueOf',\n  'inspect',\n  'constructor',\n  Symbol.toPrimitive,\n  Symbol.for('nodejs.util.inspect.custom'),\n];\n\nfunction buildRoute(manager) {\n  const route = [''];\n  const handler = {\n    get(target, name) {\n      if (reflectors.includes(name)) return () => route.join('/');\n      if (methods.includes(name)) {\n        const routeBucket = [];\n        for (let i = 0; i < route.length; i++) {\n          // Reactions routes and sub-routes all share the same bucket\n          if (route[i - 1] === 'reactions') break;\n          // Literal IDs should only be taken account if they are the Major ID (the Channel/Guild ID)\n          if (/\\d{16,19}/g.test(route[i]) && !/channels|guilds/.test(route[i - 1])) routeBucket.push(':id');\n          // All other parts of the route should be considered as part of the bucket identifier\n          else routeBucket.push(route[i]);\n        }\n        return options =>\n          manager.request(\n            name,\n            route.join('/'),\n            Object.assign(\n              {\n                versioned: manager.versioned,\n                route: routeBucket.join('/'),\n              },\n              options,\n            ),\n          );\n      }\n      route.push(name);\n      return new Proxy(noop, handler);\n    },\n    apply(target, _, args) {\n      route.push(...args.filter(x => x != null)); // eslint-disable-line eqeqeq\n      return new Proxy(noop, handler);\n    },\n  };\n  return new Proxy(noop, handler);\n}\n\nmodule.exports = buildRoute;\n"]},"metadata":{},"sourceType":"script"}