{"ast":null,"code":"'use strict';\n\nconst {\n  Events\n} = require('../../../util/Constants');\n\nmodule.exports = (client, _ref) => {\n  let {\n    d: data\n  } = _ref;\n  const channel = client.channels.cache.get(data.channel_id);\n  const time = new Date(data.last_pin_timestamp);\n\n  if (channel && !Number.isNaN(time.getTime())) {\n    // Discord sends null for last_pin_timestamp if the last pinned message was removed\n    channel.lastPinTimestamp = time.getTime() || null;\n    /**\n     * Emitted whenever the pins of a channel are updated. Due to the nature of the WebSocket event,\n     * not much information can be provided easily here - you need to manually check the pins yourself.\n     * @event Client#channelPinsUpdate\n     * @param {DMChannel|TextChannel} channel The channel that the pins update occurred in\n     * @param {Date} time The time of the pins update\n     */\n\n    client.emit(Events.CHANNEL_PINS_UPDATE, channel, time);\n  }\n};","map":{"version":3,"sources":["/Users/macbookpro/node_modules/discord.js/src/client/websocket/handlers/CHANNEL_PINS_UPDATE.js"],"names":["Events","require","module","exports","client","d","data","channel","channels","cache","get","channel_id","time","Date","last_pin_timestamp","Number","isNaN","getTime","lastPinTimestamp","emit","CHANNEL_PINS_UPDATE"],"mappings":"AAAA;;AAEA,MAAM;AAAEA,EAAAA;AAAF,IAAaC,OAAO,CAAC,yBAAD,CAA1B;;AAEAC,MAAM,CAACC,OAAP,GAAiB,CAACC,MAAD,WAAyB;AAAA,MAAhB;AAAEC,IAAAA,CAAC,EAAEC;AAAL,GAAgB;AACxC,QAAMC,OAAO,GAAGH,MAAM,CAACI,QAAP,CAAgBC,KAAhB,CAAsBC,GAAtB,CAA0BJ,IAAI,CAACK,UAA/B,CAAhB;AACA,QAAMC,IAAI,GAAG,IAAIC,IAAJ,CAASP,IAAI,CAACQ,kBAAd,CAAb;;AAEA,MAAIP,OAAO,IAAI,CAACQ,MAAM,CAACC,KAAP,CAAaJ,IAAI,CAACK,OAAL,EAAb,CAAhB,EAA8C;AAC5C;AACAV,IAAAA,OAAO,CAACW,gBAAR,GAA2BN,IAAI,CAACK,OAAL,MAAkB,IAA7C;AAEA;AACJ;AACA;AACA;AACA;AACA;AACA;;AACIb,IAAAA,MAAM,CAACe,IAAP,CAAYnB,MAAM,CAACoB,mBAAnB,EAAwCb,OAAxC,EAAiDK,IAAjD;AACD;AACF,CAjBD","sourcesContent":["'use strict';\n\nconst { Events } = require('../../../util/Constants');\n\nmodule.exports = (client, { d: data }) => {\n  const channel = client.channels.cache.get(data.channel_id);\n  const time = new Date(data.last_pin_timestamp);\n\n  if (channel && !Number.isNaN(time.getTime())) {\n    // Discord sends null for last_pin_timestamp if the last pinned message was removed\n    channel.lastPinTimestamp = time.getTime() || null;\n\n    /**\n     * Emitted whenever the pins of a channel are updated. Due to the nature of the WebSocket event,\n     * not much information can be provided easily here - you need to manually check the pins yourself.\n     * @event Client#channelPinsUpdate\n     * @param {DMChannel|TextChannel} channel The channel that the pins update occurred in\n     * @param {Date} time The time of the pins update\n     */\n    client.emit(Events.CHANNEL_PINS_UPDATE, channel, time);\n  }\n};\n"]},"metadata":{},"sourceType":"script"}